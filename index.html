<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tchat avec de vrais waifus</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body class='container'>
    <h1 class='center'> Neko san kawai -- Chat avec de vrais waifus pr√©s de chez toi </h1>
    <div id='msgdisplay'>


    </div>
    <div class="">
        <form action="" method="POST">
            <textarea name="chibre" id="" cols="30" rows="10"></textarea>
            <input type="button" id="lancecyrille" class="btn btn-primary">
        </form>
    </div>

    <script>
        document.querySelector("#lancecyrille").addEventListener("click", function(event) {
            event.preventDefault();
            let text = document.querySelector('textarea').value;
            let xhr = new XMLHttpRequest();
            xhr.open('POST', 'dof.php', true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        let p = document.createElement('p');
                        document.querySelector('#msgdisplay').appendChild(p);
                        p.textContent = xhr.response;
                    } else {
                        console.error('unexpected status code:', this.status);
                    }
                }
            };
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.send('chibre=' + text);
        });
    </script>

</body>

</html>